{"version":3,"file":"mindfiredigital-page-builder-angular.mjs","sources":["../../src/lib/page-builder-angular.component.ts","../../src/lib/page-builder-angular.module.ts","../../src/public-api.ts","../../src/mindfiredigital-page-builder-angular.ts"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ElementRef,\n  Input,\n  AfterViewInit,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PageBuilder } from '@mindfiredigital/page-builder/dist/PageBuilder.js';\nimport { CustomStyles } from './models/custom-styles.interface';\n\n@Component({\n  selector: 'mf-page-builder',\n  standalone: true,\n  imports: [CommonModule],\n  template: ` <div #wrapper [ngStyle]=\"getWrapperStyles()\"></div> `,\n  styleUrls: ['./styles/styles.scss'],\n})\nexport class PageBuilderComponent implements OnInit, OnDestroy, AfterViewInit {\n  @Input() onInitialize?: (pageBuilder: PageBuilder) => void;\n  @Input() customStyles: CustomStyles = {};\n\n  private pageBuilder: PageBuilder | null = null;\n\n  constructor(private elementRef: ElementRef) {}\n\n  ngOnInit(): void {\n    // Initial setup if needed\n  }\n\n  ngAfterViewInit(): void {\n    this.setupPageBuilder();\n  }\n\n  ngOnDestroy(): void {\n    this.pageBuilder = null;\n  }\n\n  public getWrapperStyles() {\n    return {\n      margin: 'auto',\n      width: '100%',\n      height: '100%',\n      ...this.customStyles.wrapper,\n    };\n  }\n\n  private setupDOMStructure(): void {\n    const wrapper = this.elementRef.nativeElement.querySelector('div');\n    if (!wrapper) return;\n\n    // Clear existing content\n    wrapper.innerHTML = '';\n\n    // Create the main app container\n    const appDiv = document.createElement('div');\n    appDiv.id = 'app';\n\n    // Create required inner elements\n    appDiv.innerHTML = `\n      <div id=\"sidebar\"></div>\n      <div id=\"canvas\" class=\"canvas\"></div>\n      <div id=\"customization\">\n        <h4 id=\"component-name\">Component: None</h4>\n        <div id=\"controls\"></div>\n        <div id=\"layers-view\" class=\"hidden\"></div>\n      </div>\n      <div id=\"notification\" class=\"notification hidden\"></div>\n      <div id=\"dialog\" class=\"dialog hidden\">\n        <div class=\"dialog-content\">\n          <p id=\"dialog-message\"></p>\n          <button id=\"dialog-yes\" class=\"dialog-btn\">Yes</button>\n          <button id=\"dialog-no\" class=\"dialog-btn\">No</button>\n        </div>\n      </div>\n    `;\n\n    wrapper.appendChild(appDiv);\n  }\n\n  private setupPageBuilder(): void {\n    try {\n      if (!this.pageBuilder) {\n        this.setupDOMStructure();\n\n        // Create new PageBuilder instance\n        const pageBuilder = new PageBuilder();\n        this.pageBuilder = pageBuilder;\n\n        if (this.onInitialize) {\n          this.onInitialize(pageBuilder);\n        }\n\n        // Trigger DOMContentLoaded to initialize PageBuilder\n        const event = new Event('DOMContentLoaded');\n        document.dispatchEvent(event);\n      }\n    } catch (error) {\n      console.error('Error initializing PageBuilder:', error);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { PageBuilderComponent } from './page-builder-angular.component';\n\n@NgModule({\n  imports: [PageBuilderComponent],\n  exports: [PageBuilderComponent],\n})\nexport class PageBuilderModule {}\n","export * from './lib/page-builder-angular.component';\nexport * from './lib/page-builder-angular.module';\nexport const PAGE_BUILDER_STYLES = './lib/styles/_styles.scss';\nexport * from './lib/models/custom-styles.interface';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}